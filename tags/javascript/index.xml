<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>javascript on KRAPSHSA'S BLOG</title><link>https://krapshsa.github.io/tags/javascript/</link><description>Recent content in javascript on KRAPSHSA'S BLOG</description><generator>Hugo -- gohugo.io</generator><language>zh-tw</language><copyright>© 2007 - 2022 krapshsa</copyright><lastBuildDate>Mon, 15 Aug 2022 11:26:00 +0000</lastBuildDate><atom:link href="https://krapshsa.github.io/tags/javascript/index.xml" rel="self" type="application/rss+xml"/><item><title>iOS 瀏覽器無法瀏覽高 DPI 的 pdf</title><link>https://krapshsa.github.io/posts/ios-dpi-pdf/</link><pubDate>Mon, 15 Aug 2022 11:26:00 +0000</pubDate><guid>https://krapshsa.github.io/posts/ios-dpi-pdf/</guid><description>iOS 瀏覽器無法瀏覽高 DPI 的 pdf 起因 NextCloud 有一個功能 (PDF Viewer)，
可以讓我在手機瀏覽器上直接瀏覽 PDF。
但是今天有一個用掃描器掃上來的 PDF 卻無法正常在手機端瀏覽
症狀 瀏覽 pdf 的時候會一片空白，並且產生錯誤訊息
Canvas area exceeds the maximum limit (width * height &amp;gt; 16777216). 經查詢原來是 iOS 的 canvas element 有大小限制：
Canvas Area Exceeds The Maximum Limit
跟 PDF.js 無關，所以這條 issue 至今也是無解：
解決方法 搬運 askubuntu 的解法，先在 Server Side 用 ghost script 把 DPI 改小就好了：
gs -sDEVICE=pdfwrite \ -dCompatibilityLevel=1.4 \ -dPDFSETTINGS=/ebook \ -dNOPAUSE \ -dQUIET \ -dBATCH \ -sOutputFile=output.</description></item><item><title>在 template literal 中使用函數</title><link>https://krapshsa.github.io/posts/template-literal/</link><pubDate>Tue, 21 Jun 2022 08:18:00 +0000</pubDate><guid>https://krapshsa.github.io/posts/template-literal/</guid><description>在 template literal 中使用函數 起因 在 Code Review 的時候，同事原本是使用多次字串相接
const object1 = { a: 'somestring', b: 42 }; let html = `&amp;lt;ul&amp;gt;`; for (const [key, value] of Object.entries(object1)) { html += `&amp;lt;li&amp;gt;${key}: ${value}&amp;lt;/li&amp;gt;`; } html += `&amp;lt;/ul&amp;gt;`; 後來想要表達出 html 的階層結構，想用使用巢狀的方式使用 template literal
解方 要用 function 來做的話可以使用 IIFE
const object1 = { a: 'somestring', b: 42 }; let html = ` &amp;lt;ul&amp;gt; ${ (function(){ let list = ''; for (const [key, value] of Object.</description></item></channel></rss>