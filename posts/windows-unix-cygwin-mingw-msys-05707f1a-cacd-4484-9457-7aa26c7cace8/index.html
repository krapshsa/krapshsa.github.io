<!doctype html><html><head><title>Windows 上的類 Unix 環境 - Cygwin、MinGW、MSYS</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><meta property="og:title" content="Windows 上的類 Unix 環境 - Cygwin、MinGW、MSYS"><meta property="og:description" content="起因 裝了 CLion，想在 Windows 底下為了在 Windows 上使用 gcc ，沒有想到竟然如此困難。
JetBrains IDE 會自動偵測有沒有 Git ，在 Windows 上如果沒有先裝好的話，他就會安裝 Git for Windows。
Git for Windows 自帶了一個很像 Linux 的環境，但是卻很難用它開始進行 C 的開發。
古早味做法 Dev-C++ - 维基百科，自由的百科全书
Code::Blocks
Code::Blocks 跟 Dev-C++ 是 Windows 上的 C/C++ IDE，
剛入門的時候都是用這兩套，裝好就會順便幫你裝 MinGW。
反正會動，可以交作業就好，所以當時也沒有很在意到底不同的方案差在哪裡，只知道可能有些東西會編不過。
Best way to get around fork() with MingW 64?
從 Wiki 上我們可以大概知道這是什麼東西：
MinGW（Minimalist GNU for Windows），又稱mingw32，是將 GCC 編譯器和 GNU Binutils 移植到Win32平台下的產物，包括一系列標頭檔（Win32API）、函式庫和可執行檔。
2005年, OneVision Software遵照淨室設計原則，開始開發Mingw-w64，因為最初的MinGW項目更新太慢，遲遲不支持64位環境開發
其他科系的程式設計課用的都是 Visual Studio，用的編譯器是 Visual C++，我沒用過不清楚，"><meta property="og:type" content="article"><meta property="og:url" content="https://krapshsa.github.io/posts/windows-unix-cygwin-mingw-msys-05707f1a-cacd-4484-9457-7aa26c7cace8/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-31T22:58:00+08:00"><meta property="article:modified_time" content="2022-07-31T22:58:00+08:00"><meta property="og:site_name" content="My Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows 上的類 Unix 環境 - Cygwin、MinGW、MSYS"><meta name=twitter:description content="起因 裝了 CLion，想在 Windows 底下為了在 Windows 上使用 gcc ，沒有想到竟然如此困難。
JetBrains IDE 會自動偵測有沒有 Git ，在 Windows 上如果沒有先裝好的話，他就會安裝 Git for Windows。
Git for Windows 自帶了一個很像 Linux 的環境，但是卻很難用它開始進行 C 的開發。
古早味做法 Dev-C++ - 维基百科，自由的百科全书
Code::Blocks
Code::Blocks 跟 Dev-C++ 是 Windows 上的 C/C++ IDE，
剛入門的時候都是用這兩套，裝好就會順便幫你裝 MinGW。
反正會動，可以交作業就好，所以當時也沒有很在意到底不同的方案差在哪裡，只知道可能有些東西會編不過。
Best way to get around fork() with MingW 64?
從 Wiki 上我們可以大概知道這是什麼東西：
MinGW（Minimalist GNU for Windows），又稱mingw32，是將 GCC 編譯器和 GNU Binutils 移植到Win32平台下的產物，包括一系列標頭檔（Win32API）、函式庫和可執行檔。
2005年, OneVision Software遵照淨室設計原則，開始開發Mingw-w64，因為最初的MinGW項目更新太慢，遲遲不支持64位環境開發
其他科系的程式設計課用的都是 Visual Studio，用的編譯器是 Visual C++，我沒用過不清楚，"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/journal.min.c5d92f380bf10f6849c7ac487c7df2b22c081e0851e5339224f1ae29210b20d2.css integrity="sha256-xdkvOAvxD2hJx6xIfH3ysiwIHghR5TOSJPGuKSELINI=" media=screen><link rel=stylesheet href=/scss/dark-mode.min.9f8d8c2df9285089d141edd4a50cb7506c7948e6ab79a29968dced1bd0ab7d22.css integrity="sha256-n42MLfkoUInRQe3UpQy3UGx5SOareaKZaNztG9CrfSI=" media=screen><script src=/vendor/js/loadCSS.js></script>
<script>loadCSS("https://fonts.googleapis.com/css?family=Fira+Mono|Material+Icons")</script><script src=/js/toc.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script>
<script src=/vendor/js/md5.min.js></script>
<script>var gitalk=new Gitalk({clientID:"your client id",clientSecret:"your client secret",repo:"repo name",owner:"user",admin:["user"],id:md5(location.pathname),distractionFreeMode:"false"});window.onload=function(){gitalk.render("gitalk-container")}</script></head><body><div id=app><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://krapshsa.github.io/><div class=nav-title>KRAPSHSA'S BLOG</div><div class=nav-subtitle>Themed by Diary.</div></a><div class=nav-link-list><a class="a-block nav-link-item active" href=/posts>Archive</a>
<a class="a-block nav-link-item false" href=/categories>Categories</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
© 2007 - 2022 krapshsa</div></div><div id=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc-content><center>- CATALOG -</center><ul><ul><li><a href=#%e8%b5%b7%e5%9b%a0 onclick="onNavClick(`#起因-nav`)" id=起因-nav>起因</a></li><li><a href=#%e5%8f%a4%e6%97%a9%e5%91%b3%e5%81%9a%e6%b3%95 onclick="onNavClick(`#古早味做法-nav`)" id=古早味做法-nav>古早味做法</a></li><li><a href=#%e8%a3%9d-git-on-windows-%e8%b7%91%e5%87%ba%e4%be%86%e7%9a%84-mingw onclick="onNavClick(`#裝-git-on-windows-跑出來的-mingw-nav`)" id=裝-git-on-windows-跑出來的-mingw-nav>裝 git on windows 跑出來的 MinGW</a></li><li><a href=#msys2 onclick="onNavClick(`#msys2-nav`)" id=msys2-nav>MSYS2</a></li><li><a href=#%e6%9b%b4%e5%83%8f-unix-%e7%9a%84%e7%92%b0%e5%a2%83---cygwin onclick="onNavClick(`#更像-unix-的環境---cygwin-nav`)" id=更像-unix-的環境---cygwin-nav>更像 Unix 的環境 - Cygwin</a></li><ul><li><a href=#what-is-it onclick="onNavClick(`#what-is-it-nav`)" id=what-is-it-nav>What is it?</a></li></ul><li><a href=#%e9%97%9c%e4%bf%82%e5%9c%96 onclick="onNavClick(`#關係圖-nav`)" id=關係圖-nav>關係圖</a></li><li><a href=#%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9b%b4%e5%a5%bd%e7%9a%84%e6%96%b9%e6%a1%88wsl2 onclick="onNavClick(`#也許是更好的方案wsl2-nav`)" id=也許是更好的方案wsl2-nav>也許是更好的方案：WSL2</a></li><li><a href=#%e7%95%aa%e5%a4%96%e5%9c%a8-git-bash-%e4%b8%8a%e8%a3%9d%e9%a1%8d%e5%a4%96%e7%9a%84%e6%9d%b1%e8%a5%bf%e6%98%af%e5%be%88%e9%ba%bb%e7%85%a9%e7%9a%84 onclick="onNavClick(`#番外在-git-bash-上裝額外的東西是很麻煩的-nav`)" id=番外在-git-bash-上裝額外的東西是很麻煩的-nav>番外：在 Git Bash 上裝額外的東西是很麻煩的</a></li><li><a href=#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99 onclick="onNavClick(`#參考資料-nav`)" id=參考資料-nav>參考資料</a></li></ul></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item active" href=/posts>Archive</a>
<a class="a-block drawer-menu-item false" href=/categories>Categories</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><ul><li><a href=#%e8%b5%b7%e5%9b%a0 onclick="onNavClick(`#起因-nav`)" id=起因-nav>起因</a></li><li><a href=#%e5%8f%a4%e6%97%a9%e5%91%b3%e5%81%9a%e6%b3%95 onclick="onNavClick(`#古早味做法-nav`)" id=古早味做法-nav>古早味做法</a></li><li><a href=#%e8%a3%9d-git-on-windows-%e8%b7%91%e5%87%ba%e4%be%86%e7%9a%84-mingw onclick="onNavClick(`#裝-git-on-windows-跑出來的-mingw-nav`)" id=裝-git-on-windows-跑出來的-mingw-nav>裝 git on windows 跑出來的 MinGW</a></li><li><a href=#msys2 onclick="onNavClick(`#msys2-nav`)" id=msys2-nav>MSYS2</a></li><li><a href=#%e6%9b%b4%e5%83%8f-unix-%e7%9a%84%e7%92%b0%e5%a2%83---cygwin onclick="onNavClick(`#更像-unix-的環境---cygwin-nav`)" id=更像-unix-的環境---cygwin-nav>更像 Unix 的環境 - Cygwin</a></li><ul><li><a href=#what-is-it onclick="onNavClick(`#what-is-it-nav`)" id=what-is-it-nav>What is it?</a></li></ul><li><a href=#%e9%97%9c%e4%bf%82%e5%9c%96 onclick="onNavClick(`#關係圖-nav`)" id=關係圖-nav>關係圖</a></li><li><a href=#%e4%b9%9f%e8%a8%b1%e6%98%af%e6%9b%b4%e5%a5%bd%e7%9a%84%e6%96%b9%e6%a1%88wsl2 onclick="onNavClick(`#也許是更好的方案wsl2-nav`)" id=也許是更好的方案wsl2-nav>也許是更好的方案：WSL2</a></li><li><a href=#%e7%95%aa%e5%a4%96%e5%9c%a8-git-bash-%e4%b8%8a%e8%a3%9d%e9%a1%8d%e5%a4%96%e7%9a%84%e6%9d%b1%e8%a5%bf%e6%98%af%e5%be%88%e9%ba%bb%e7%85%a9%e7%9a%84 onclick="onNavClick(`#番外在-git-bash-上裝額外的東西是很麻煩的-nav`)" id=番外在-git-bash-上裝額外的東西是很麻煩的-nav>番外：在 Git Bash 上裝額外的東西是很麻煩的</a></li><li><a href=#%e5%8f%83%e8%80%83%e8%b3%87%e6%96%99 onclick="onNavClick(`#參考資料-nav`)" id=參考資料-nav>參考資料</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a id=navTitle class=navbar-brand href=https://krapshsa.github.io/>KRAPSHSA'S BLOG</a>
<button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://krapshsa.github.io/><div class=single-column-header-title>KRAPSHSA'S BLOG</div><div class=single-column-header-subtitle>Themed by Diary.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>Windows 上的類 Unix 環境 - Cygwin、MinGW、MSYS<div class=post-meta><time itemprop=datePublished>2022-07-31 22:58</time>
<i class=material-icons>label</i>
<a href=/tags/c>C</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><hr><h2 id=起因>起因</h2><p>裝了 CLion，想在 Windows 底下為了在 Windows 上使用 <code>gcc</code> ，沒有想到竟然如此困難。</p><p>JetBrains IDE 會自動偵測有沒有 Git ，在 Windows 上如果沒有先裝好的話，他就會安裝 Git for Windows。</p><p>Git for Windows 自帶了一個很像 Linux 的環境，但是卻很難用它開始進行 C 的開發。</p><br><h2 id=古早味做法>古早味做法</h2><p><a href=https://zh.wikipedia.org/zh-tw/Dev-C%2B%2B>Dev-C++ - 维基百科，自由的百科全书</a></p><p><a href=https://www.codeblocks.org/>Code::Blocks</a></p><p>Code::Blocks 跟 Dev-C++ 是 Windows 上的 C/C++ IDE，</p><p>剛入門的時候都是用這兩套，裝好就會順便幫你裝 <code>MinGW</code>。</p><p>反正會動，可以交作業就好，所以當時也沒有很在意到底不同的方案差在哪裡，只知道可能有些東西會編不過。</p><p><a href=https://stackoverflow.com/questions/33675953/best-way-to-get-around-fork-with-mingw-64>Best way to get around fork() with MingW 64?</a></p><p>從 Wiki 上我們可以大概知道這是什麼東西：</p><blockquote><p><strong>MinGW</strong>（<strong>Min</strong>imalist <strong>G</strong>NU for <strong>W</strong>indows），又稱<strong>mingw32</strong>，是將 <a href=https://zh.wikipedia.org/wiki/GCC>GCC</a> 編譯器和 <a href=https://zh.wikipedia.org/zh-tw/GNU_Binutils>GNU Binutils</a> 移植到Win32平台下的產物，包括一系列標頭檔（<a href=https://zh.wikipedia.org/wiki/Windows_API>Win32API</a>）、<a href=https://zh.wikipedia.org/wiki/%E9%9D%9C%E6%85%8B%E9%80%A3%E7%B5%90%E5%87%BD%E5%BC%8F%E5%BA%AB>函式庫</a>和<a href=https://zh.wikipedia.org/wiki/%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6>可執行檔</a>。</p></blockquote><blockquote><p>2005年, OneVision Software遵照<a href=https://zh.wikipedia.org/wiki/%E5%87%80%E5%AE%A4%E8%AE%BE%E8%AE%A1>淨室設計</a>原則，開始開發Mingw-w64，因為最初的MinGW項目更新太慢，遲遲不支持64位環境開發</p></blockquote><p>其他科系的程式設計課用的都是 Visual Studio，用的編譯器是 Visual C++，我沒用過不清楚，</p><p>不過概念應該是相同的，有些東西 Windows API 不支援就不能用，例如 <code>fork()</code> 。</p><br><h2 id=裝-git-on-windows-跑出來的-mingw>裝 git on windows 跑出來的 MinGW</h2><p><img src=gw1-fef1084f-cd1b-44fc-aae8-ffbf6efd0094.png alt></p><p>現在裝完 git for windows 2.x 之後，就會有一個 git bash 可以用，上面寫著 <code>MINGW64</code></p><p>這就是一開始提到的，裝 code::block 或 dev-c++ 可以順便裝的編譯環境。</p><p>既然裝 git 就有，就想要拿來試著開發看看。</p><p>但進到 bash 裡面卻發現沒有 make 可以用，於是就想要模仿 Linux 在上面用套件管理器裝一些套件。</p><p>但是在找資料的過程中發現，很多人都說，git for windows 是搭建在 MSYS / MSYS2 上面，那 MSYS 又是什麼？</p><br><h2 id=msys2>MSYS2</h2><p><a href=https://www.msys2.org/wiki/MSYS2-introduction/>MSYS2 - MSYS2-Introduction</a></p><p><a href=https://www.msys2.org/wiki/How-does-MSYS2-differ-from-Cygwin/>MSYS2 - How does MSYS2 differ from Cygwin?</a></p><blockquote><p>MSYS2 is software distribution and a building platform for Windows.
It provides a Unix-like environment, a command-line interface and a software repository making it easier to install, use, build and port software on Windows.
That means Bash, Autotools, Make, Git, GCC, GDB&mldr;, all easily installable through Pacman, a fully-featured package manager.
It is an independent rewrite of MSys, based on modern Cygwin (POSIX compatibility layer) and MinGW-w64 with the aim of better interoperability with native Windows software.</p></blockquote><blockquote><p>MSYS2 consists of three subsystems and their corresponding package repositories, <code>msys2</code>, <code>mingw32</code>, and <code>mingw64</code>.</p></blockquote><blockquote><p>The <code>mingw</code> subsystems provide native Windows programs and are the main focus of the project.
These programs are built to co-operate well with other Windows programs, independently of the other subsystems.
This part builds on the MinGW-w64 project.</p></blockquote><blockquote><p>The <code>msys2</code> subsystem provides an emulated mostly-POSIX-compliant environment for building software, package management, and shell scripting.
These programs live in a virtual single-root filesystem (the root is the MSYS2 installation directory).
Some effort is made to have the programs work well with native Windows programs, but it&rsquo;s not seamless. This part builds on the Cygwin project.</p></blockquote><p>這邊寫 MSYS2 有兩大類的子系統：</p><ul><li>MinGW - 移植的 GCC 編譯器與工具鏈，屬於 Windows 原生。</li><li>MSYS2 - 基於 Cygwin 改寫，屬於模擬 POSIX</li></ul><br><p>MSYS2 可以用 <code>pacman</code> 作為套件管理工具，但是 Git for Windows 上沒有。如果裝 Git for Windows SDK 的話就會有，但是很肥。</p><p>有嘗試著下載安裝包直接裝在系統上，不過卡了一個 zstd 很麻煩，但那就是另外一個故事了。</p><p>最後我自己裝了 MSYS2 ，跟 Git 分開來，就可以順利的編譯了。</p><p>不過好像還有另外一個選擇，以前在學校有看老師用過，就是剛剛提到的 Cygwin。</p><br><h2 id=更像-unix-的環境---cygwin>更像 Unix 的環境 - Cygwin</h2><p><img src=512px-Cygwin_logo-8cee2851-62bc-4926-a7ac-9b61b81091dc.svg.png alt></p><h3 id=what-is-it>What is it?</h3><p>摘自官網</p><blockquote><p>Cygwin is:</p><ul><li>a large collection of GNU and Open Source tools which provide functionality similar to a <a href=https://en.wikipedia.org/wiki/Linux_distribution>Linux distribution</a> on Windows.</li><li>a DLL (cygwin1.dll) which provides substantial POSIX API functionality.</li></ul></blockquote><ul><li>一個 GNU 和開源工具的大集合，在 Windows 上提供類似 Linux 發行版的功能</li><li><code>cygwin1.dll</code> 提供大量 POSIX API 的功能</li></ul><br><blockquote><p>Cygwin is not:</p><ul><li>a way to run native Linux apps on Windows. You must rebuild your application <em>from source</em> if you want it to run on Windows.</li><li>a way to magically make native Windows apps aware of UNIX® functionality like signals, ptys, etc. Again, you need to build your apps <em>from source</em> if you want to take advantage of Cygwin functionality.</li></ul></blockquote><ul><li>不是在 Windows 上跑 Linux 原生程式的方法。要可以跑，要從原始碼重新 Build。</li><li>一種讓 Windows 程式可以神奇地使用 Unix 功能的方法，但是要從原始碼重新 Build。</li></ul><p>重點就是 <code>cygwin1.dll</code> ，模擬了很多 Unix 功能，其實 Build 出來的是連結了這個 dll 的 windows 程式。</p><p>與 MinGW 與 Cygwin 的異同，在 wiki 上可以找得到，摘自 Wiki：</p><blockquote><p>Cygwin 與 MinGW 皆可用來移植 Unix 軟體到 Windows，但它們採用截然不同的實作。</p></blockquote><blockquote><p>Cygwin 旨在提供一個完整的 <a href=https://zh.wikipedia.org/wiki/POSIX>POSIX</a> 層，包括主流 Unix 的系統呼叫及函式庫實作；其重視相容性優先於效能。</p></blockquote><blockquote><p>相對的，MinGW 則著重簡化與效能。因此，它並不提供某些難以用 Windows API 實作的 POSIX API，例如 <code>fork()</code>，<code>mmap()</code> 和 <code>ioctl()</code>。</p></blockquote><p>據說有一些效能問題，而且也不確定是不是 100% 模擬。但是拿來通過大一的程式設計課是綽綽有餘的。</p><p>到之後的高等程式設計，大家就直接在 Unix 環境底下作業了。</p><p><img src=81Ywze2ijaL-a9de5dc3-85a0-4348-99b0-6e26fe4b45e3.jpg alt></p><br><h2 id=關係圖>關係圖</h2><p>Stack Overflow 上大神整理好的關係圖，我覺得很清楚</p><p><img src=apNVx-5bde4d7b-cfe8-403f-b9ba-f1a06680519a.png alt></p><br><h2 id=也許是更好的方案wsl2>也許是更好的方案：WSL2</h2><p><a href=https://www.v2ex.com/t/793055>某些场景下 wsl2 的文件系统简直蛋疼的不行 - V2EX</a></p><p><a href=https://docs.microsoft.com/zh-tw/windows/wsl/tutorials/gui-apps>使用 WSL 執行 Linux GUI 應用程式</a></p><p>既然在 Windows 上開發 Unix 程式，環境這麼不好搞定，那就乾脆 toolchain 放在 VM 之類的環境裡面。</p><p>搜尋了一下有滿多人在抱怨如果要把編譯環境放在 WSL 裡面，但是用 Windows 上的編輯器 / IDE 開發很不順手 (路徑轉換、效能問題 …)。</p><blockquote><p>不在 wsl2 里安装 ide 的话，lz 的问题永远解决不了
本身跨虚拟机宿主机之间的文件交互性能就很差，你一定要在 Windows 下读 WSL2 的文件或 WSL2 读 Windows 都不会有好体验的</p></blockquote><blockquote><p>lz 你不想在 wsl2 里装 ide 结果就是反倒这是最麻烦的解决办法。而且在 wsl2 里装 IDE 的话，你将能解锁一键完整迁移电脑上的快发环境到别的电脑的隐藏优点。</p></blockquote><p>所幸 JetBrains IDE 是可以裝在 Linux 上的，可以利用 WSL 跑 Linux GUI，或者是跑 JetBrains Gateway 應該都會動。</p><p>正確的姿勢應該是連 IDE 都裝在 WSL 裡面，就可以解決很多 Windows 跟 WSL 溝通得困難。</p><p>如果 Server 不夠強，或是怕桌機太閒了可以試試看這個方法，應該可以解決掉很多問題 (例如：不能用 rsync ，權限不一樣，換行符號不一樣 …)</p><br><h2 id=番外在-git-bash-上裝額外的東西是很麻煩的>番外：在 Git Bash 上裝額外的東西是很麻煩的</h2><p>以 <code>rsync</code> 為例，想要在 Git Bash 上使用 <code>rsync</code> ，可以直接把 binary 跟 dll 丟進去就好了</p><p><a href="https://packages.msys2.org/package/rsync?repo=msys&variant=x86_64">Package: rsync - MSYS2 Packages</a></p><p>但是他的副檔名是 <code>.tar.zst</code>，這是 facebook 開發的一種壓縮格式，目前 windows 官方的解壓縮跟官方版本的 7z 都還不支援。</p><p>我們可以去 github 下載 windows 版的 <code>zstd.exe</code> 就可以在 zstd 的目錄中，從 cmd 解開得到 tar 檔：</p><pre tabindex=0><code>.\zstd.exe -d rsync-3.2.3-2-x86_64.pkg.tar.zst
</code></pre><p><a href=https://github.com/facebook/zstd/releases>Releases · facebook/zstd</a></p><p>把解出來的內容丟到 git 的目錄下，例如我的是： <code>C:\Program Files\Git</code></p><p>但是這樣還是跑不起來，原因就是它還有缺相依的 dll，所以下載兩個相依的 dll 如法炮製：</p><ul><li><p>libzstd</p><p><a href="https://packages.msys2.org/package/libzstd?repo=msys&variant=x86_64">Package: libzstd - MSYS2 Packages</a></p></li><li><p>libxxhash</p><p><a href="https://packages.msys2.org/package/libxxhash?repo=msys&variant=x86_64">Package: libxxhash - MSYS2 Packages</a></p></li></ul><br><h2 id=參考資料>參考資料</h2><p><a href=https://stackoverflow.com/questions/25019057/how-are-msys-msys2-and-msysgit-related-to-each-other>How are msys, msys2, and msysgit related to each other?</a></p><p><a href=https://zhuanlan.zhihu.com/p/360773277>Cygwin vs MinGW vs MSYS2</a></p><p><a href=https://stackoverflow.com/questions/43146372/how-why-cygwin-breaks-windows-permissions>How/why cygwin breaks windows permissions?</a></p><p><a href=https://blog.csdn.net/u012408797/article/details/120490201>POSIX、Cygwin、MSYS、MSYS2、MinGW、MinGW-w64的区别_deparks的博客-CSDN博客_msys msys2</a></p><p><a href=https://blog.zengrong.net/post/cygwin_and_mingw/>Cygwin 与 MinGW/MSYS/MSYS2，如何选择？</a></p><p><a href=https://www.msys2.org/wiki/How-does-MSYS2-differ-from-Cygwin/>MSYS2 - How does MSYS2 differ from Cygwin?</a></p><hr width=100% id=EOF><p style=color:#777>Last modified on 2022-07-31</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/mariadb-cpu-loading-e49af856-cc1f-45bf-9e40-f97a0718d89f/>Next<br>記一次 MariaDB CPU Loading 滿載查修過程</a>
<a class=older-posts href=/posts/docker-stack-rm-fluentd-3c0047b9-a458-4700-a6f2-b41dcd7da96d/>Previous<br>docker stack rm 在有 fluentd 的時候總有服務關不掉</a></nav><div class=post-comment-wrapper><div id=gitalk-container></div></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
© 2007 - 2022 krapshsa</div></div><script src=/js/journal.js></script></body></html>